<blocks app="Snap! 9.0, https://snap.berkeley.edu" version="2"><palette><category name="Collections" color="255,44,194,1"/></palette><block-definition s="{ %&apos;keys-values&apos; }" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%mult%mlt"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>items</l></list><l>var kvs=[];&#xD;for (let i = 0; i &lt; items.contents.length; i++) {&#xD;  kv = items.contents[i].contents&#xD;  kvs.push(kv);&#xD;}&#xD;return new Map(kvs);</l></block><list><block var="keys-values"/></list></block></block></script></block-definition><block-definition s="add or replace { %&apos;keys-values&apos; } in %&apos;dict&apos;" type="command" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%mult%mlt"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dict</l><l>items</l></list><l>var kvs=[];&#xD;for (let i = 0; i &lt; items.contents.length; i++) {&#xD;  kv = items.contents[i].contents&#xD;  dict.set(kv[0],kv[1]);&#xD;}</l></block><list><block var="dict"/><block var="keys-values"/></list></block></block></script></block-definition><block-definition s="%&apos;dict&apos; with { %&apos;keys-values&apos; }" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%mult%mlt"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dict</l><l>items</l></list><l>dict = new Map(dict.entries())&#xD;var kvs=[];&#xD;for (let i = 0; i &lt; items.contents.length; i++) {&#xD;  kv = items.contents[i].contents&#xD;  dict.set(kv[0],kv[1]);&#xD;}&#xD;return dict;</l></block><list><block var="dict"/><block var="keys-values"/></list></block></block></script></block-definition><block-definition s="%&apos;key&apos; : %&apos;value&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block var="key"/><block var="value"/></list></block></block></script></block-definition><block-definition s="%&apos;key&apos; in %&apos;dict&apos;" type="predicate" category="Collections"><header></header><code></code>category="other"    <inputs><input type="%txt"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dict</l><l>key</l></list><l>return dict.has(key);</l></block><list><block var="dict"/><block var="key"/></list></block></block></script></block-definition><block-definition s="%&apos;dict&apos; [ %&apos;key&apos; ]" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%txt"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dict</l><l>key</l></list><l>return dict.get(key);</l></block><list><block var="dict"/><block var="key"/></list></block></block></script></block-definition><block-definition s="%&apos;dict&apos; [ %&apos;key&apos; ] or %&apos;default&apos; if key not found" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%txt"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportIfElse"><custom-block s="%txt in %s"><block var="key"/><block var="dict"/></custom-block><custom-block s="%s [ %txt ]"><block var="dict"/><block var="key"/></custom-block><block var="default"/></block></block></script></block-definition><block-definition s="keys and values of %&apos;dict&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dict</l></list><l>return new List(Array.from(dict.entries(), x =&gt; new List(x)));</l></block><list><block var="dict"/></list></block></block></script></block-definition><block-definition s="group %&apos;list&apos; by key %&apos;key maker&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%repRing"></input></inputs><script><block s="doWarp"><script><block s="doDeclareVariables"><list><l>dict</l><l>key</l><l>slot</l></list></block><block s="doSetVar"><l>dict</l><custom-block s="{ %mult%mlt }"><list></list></custom-block></block><block s="doForEach"><l>item</l><block var="list"/><script><block s="doSetVar"><l>key</l><block s="reportJoinWords"><list><block s="evaluate"><block var="key maker"/><list><block var="item"/></list></block></list></block></block><block s="doSetVar"><l>slot</l><custom-block s="%s [ %txt ] or %s if key not found"><block var="dict"/><block var="key"/><block s="reportNewList"><list></list></block></custom-block></block><block s="doAddToList"><block var="item"/><block var="slot"/></block><custom-block s="add or replace { %mult%mlt } in %s"><list><custom-block s="%txt : %s"><block var="key"/><block var="slot"/></custom-block></list><block var="dict"/></custom-block></script></block><block s="doReport"><block var="dict"/></block></script></block></script></block-definition><block-definition s="# %&apos;item&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="%txt : %s"><custom-block s="make key for %s"><block var="item"/></custom-block><block var="item"/></custom-block></block></script></block-definition><block-definition s="make key for %&apos;item&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="printable %l"><block var="item"/></custom-block></block></script></block-definition><block-definition s="printable %&apos;data&apos;" type="reporter" category="lists"><comment x="0" y="0" w="188.66666666666666" collapsed="false">Takes a (possibly deep) list as input,&#xD;and reports a human-readable text form &#xD;of the list (namely, Lisp notation).&#xD;&#xD;Will not work on circular lists.</comment><header></header><code></code><translations>ca:notaci√≥ textual de _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="data"/><l><option>list</option></l></block></block><script><block s="doReport"><block var="data"/></block></script><list></list></block><block s="doIf"><block s="reportListIsEmpty"><block var="data"/></block><script><block s="doReport"><l>()</l></block></script><list></list></block><block s="doReport"><block s="reportJoinWords"><list><l>(</l><block s="reportAtomicCombine"><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="printable %l"><l/></custom-block></autolambda><list></list></block><block var="data"/></block><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l></l><l></l></list></block></autolambda><list></list></block></block><l>)</l></list></block></block></script></block-definition><block-definition s="keys of %&apos;dict&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><custom-block s="keys and values of %s"><block var="dict"/></custom-block></block></block></script></block-definition><block-definition s="remove { %&apos;keys-values or keys&apos; } in %&apos;dict&apos;" type="command" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%mult%mlt"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dict</l><l>items</l></list><l>for (let i = 0; i &lt; items.contents.length; i++) {&#xD;  kv = items.contents[i]&#xD;  if(kv.contents)&#xD;    dict.delete(kv.contents[0]);&#xD;  else&#xD;    dict.delete(kv);&#xD;}</l></block><list><block var="dict"/><block var="keys-values or keys"/></list></block></block></script></block-definition><block-definition s="unique from %&apos;items&apos; on %&apos;getkey&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%repRing"></input></inputs><script><block s="doReport"><custom-block s="values of %s"><custom-block s="{ %mult%mlt }"><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="%txt : %s"><block s="evaluate"><block var="getkey"/><list><block var="item"/></list></block><block var="item"/></custom-block></autolambda><list><l>item</l></list></block><block var="items"/></block></custom-block></custom-block></block></script></block-definition><block-definition s="values of %&apos;dict&apos;" type="reporter" category="Collections"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><custom-block s="keys and values of %s"><block var="dict"/></custom-block></block></block></script></block-definition></blocks>